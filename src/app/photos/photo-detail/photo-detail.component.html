<div class="bg-white div-general-photo-detail" *ngIf="(photo$ | async) as photo" >
  <div class="row m-0">
    <div class="responsive-row m-auto">
      <div class="row">
        <div class="col">
          <div class="img-container">
            <app-photo
              [url]="photo.photo_url"
              [description]="photo.photo_description"
            >
            </app-photo>
          </div>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-12">
          <small>
            <div class="body-comment-text p-1">
              <span class="break-word mb-2">
                {{photo.photo_description.substring(0,100)}}
              </span>
              <details *ngIf="photo.photo_description.length >= 100">
                <summary>
                  <span class="open">View more</span>
                  <span class="close mb-2">View less</span>
                </summary>
                <span>
                  {{photo.photo_description.substring(100,1000)}}
                </span>
              </details>
            </div>
            <hr>
            <app-like
              [photo]="photo"
              (viewFormComment)="photoComment = $event"
              (photoId)="photoId = $event"
              [_viewFormComment]="photoComment"
            ></app-like>
          </small>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-12">
          <app-photo-comments [comments]="comments"
                              [photoId]="photo.photo_id"
                              [allowComments]="photo.photo_allow_comments"
          >
          </app-photo-comments>
        </div>
      </div>
    </div>
  </div>
  <app-comments-form
    (comments)="comments = $event"
    [viewComponent]="photoComment"
    [photoId]="photoId"
    *ngIf="photo.photo_allow_comments;"
    (viewFormComment)="photoComment = $event"
  >
  </app-comments-form>
</div>
